<!-- breadcrumb start -->
<div class="pa-breadcrumb">
  <div class="container-fluid">
    <div class="pa-breadcrumb-box">
      <h1>Cart</h1>
      <ul>
        <li><a [routerLink]="['/home']">Home</a></li>
        <li>Cart</li>
      </ul>
    </div>
  </div>
</div>
<!-- breadcrumb end --><!-- cart start -->
<div class="pa-cart spacer-top spacer-bottom">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="pa-cart-box">
          <table>
            <thead>
              <tr>
                <th>Product image</th>
                <th>Product name</th>
                <th>unit price</th>
                <th>Quantity</th>
                <th>Total</th>
              </tr>
            </thead>
            <tbody>
       <!--        <tr>
                <td>
                  <div class="pa-cart-img">
                    <img
                      src="assets/images/product-wid1.png"
                      alt="image"
                      class="img-fluid"
                    />
                  </div>
                </td>
                <td><a [routerLink]="['/products']">Black Organic Tea</a></td>
                <td>$45</td>
                <td>
                  <div class="pa-cart-quantity">
                    <button class="pa-sub"></button
                    ><input type="number" value="1" min="1" /><button
                      class="pa-add"
                    ></button>
                  </div>
                </td>
                <td>$180</td>
              </tr>
              <tr>
                <td>
                  <div class="pa-cart-img">
                    <img
                      src="assets/images/product-wid2.png"
                      alt="image"
                      class="img-fluid"
                    />
                  </div>
                </td>
                <td><a [routerLink]="['/products']">Black Organic Tea</a></td>
                <td>$45</td>
                <td>
                  <div class="pa-cart-quantity">
                    <button class="pa-sub"></button
                    ><input type="number" value="1" min="1" /><button
                      class="pa-add"
                    ></button>
                  </div>
                </td>
                <td>$180</td>
              </tr> -->
              <tr *ngFor="let product of products; index as index;">
                <td>
                  <div class="pa-cart-img">
                    <img
                      [src]="product.imageUrl"
                      alt="image"
                      class="img-fluid"
                    />
                  </div>
                </td>
                <td><a [routerLink]="['/products', product.id]">{{ product.productName }}</a></td>
                <td>${{ product.price }}</td>
                <td>
                  <form  #cartForm="ngForm" class="pa-cart-quantity" >
                    <button class="pa-sub"
                    id="sub"
                    (click)="product.sales <= product.limited && product.sales >= 2 ? product.sales = product.sales -1 : deleteProduct(product)"
                    (click)="totalPrd()"
                    ></button
                    ><input type="number" (focusout)="limted(product)" (ngModelChange)=" totalPrd()" [(ngModel)]="product.sales" name="number"  maxlength="3" #model="ngModel"

                       required
                      [max]="product.limited"
                      [min]="product.sales"


                    /><button
                      class="pa-add"
                      nz-button

                      id="add"
                      (click)="product.sales >= product.limited ? product.sales = product.limited : product.sales=product.sales + 1"
                      (click)="totalPrd()"
                    ></button>
                  </form>
                </td>
                <td >${{ product.price * product.sales }}</td>
              </tr>
              <tr>
                <td colspan="4" class="pa-cart-total">
                  <p>Sub Total:</p>
                </td>
                <td class="pa-cart-total-price"><p>${{ total }}</p></td>
              </tr>
              <tr>
                <td colspan="3">
                  <a [routerLink]="['/products']" class="pa-btn">continue Shopping</a>
                </td>
               <!--  <td colspan="2" class="pa-cart-update">
                  <button class="pa-btn">update cart</button>
                </td> -->
              </tr>
            </tbody>
          </table>
          <div class="pa-garnd-total">
            <p><span>Shipping charges</span><span>${{ products.length }}0</span></p>
            <p><span>GST</span><span>18%</span></p>
            <p><span>Grant total:</span><span>${{ total >= 10 ? (total - ((18 * total) / 100)) : basePrice }}</span></p>
            <a [routerLink]="['/checkout']" class="pa-btn">Proceed to checkout</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- cart end -->


<!--start footer-->
<app-footer></app-footer>
<!--end footer-->
